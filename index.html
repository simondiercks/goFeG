<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>goFeG</title>
  <script type='text/javascript' src='http://code.jquery.com/jquery-2.0.0.js'></script>
  <script type="text/javascript" src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.js"></script>
  <link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.css">
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true&language=de"></script>
  <script type='text/javascript' src="http://z.sese.de/ul/uploads/gmap3.js"></script>
  <style type='text/css'>
    #map{
 height: 350px;
 width: 100%;
}
  </style>
  

<script type='text/javascript'>
$(window).load(function(){
	$('#map').show().gmap3({
		marker:{
			address: "Christinastr. 5, J체lich"
		},
		autofit:{},
		getgeoloc:{
			callback : function(latLng){
			  if (latLng){
				$(this).gmap3({
				  marker:{ 
					latLng:latLng
				  },
				  map:{
					options:{
					  zoom: 5
					}
				  }
				});
			  }
			}
		},
		getdistance:{
			options:{ 
			  origins:["Marseille"], 
			  destinations:["Paris"],
			  travelMode: google.maps.TravelMode.DRIVING
			},
			callback: function(results, status){
			  var html = "";
			  if (results){
				for (var i = 0; i < results.rows.length; i++){
				  var elements = results.rows[i].elements;
				  for(var j=0; j<elements.length; j++){
					switch(elements[j].status){
					  case "OK":
						html += elements[j].distance.text + " (" + elements[j].duration.text + ")<br />";
						break;
					  case "NOT_FOUND":
						html += "The origin and/or destination of this pairing could not be geocoded<br />";
						break;
					  case "ZERO_RESULTS":
						html += "No route could be found between the origin and destination.<br />";
						break;
					}
				  }
				} 
			  } else {
				html = "error";
			  }
			  $("#test").html( html );
			}
		}
		
	}).css('border', '1px solid #000000');
}); 

function showDir() {
	$("#map").gmap3({ 
	  getroute:{
		options:{
			origin:"j체lich",
			destination:"hamburg",
			travelMode: google.maps.DirectionsTravelMode.DRIVING
		},
		callback: function(results){
		  if (!results) return;
		  $(this).gmap3({
			map:{
			  options:{
				zoom: 13,  
				center: [-33.879, 151.235]
			  }
			},
			directionsrenderer:{
			  options:{
				directions:results
			  } 
			}
		  });
		}
	  }
	});
}

$("test").gmap3({
  getdistance:{
    options:{ 
      origins:["Marseille"], 
      destinations:["Paris"],
      travelMode: google.maps.TravelMode.DRIVING
    },
    callback: function(results, status){
      var html = "";
      if (results){
        for (var i = 0; i < results.rows.length; i++){
          var elements = results.rows[i].elements;
          for(var j=0; j<elements.length; j++){
            switch(elements[j].status){
              case "OK":
                html += elements[j].distance.text;
                break;
              case "NOT_FOUND":
                html += "The origin and/or destination of this pairing could not be geocoded<br />";
                break;
              case "ZERO_RESULTS":
                html += "No route could be found between the origin and destination.<br />";
                break;
            }
          }
        } 
      } else {
        html = "error";
      }
      $("#test").html( html );
    }
  }
});
</script>


</head>
<body>
      <body>
        <div data-role="page">
            <div data-role="header">
                <h1>goFeG</h1>
            </div>
            <!-- /header -->
            <div data-role="content">
                <form>
                   <label for="slider-0">Maximale Entfernung (km):</label>
                   <input type="range" name="slider" id="slider-0" value="25" min="0" max="200"  />
                </form>
                <p>FeGn in Deiner N채he:</p>
                <ul data-role="listview" data-inset="true" data-filter="true">
                    <li><a href="#">FeG Aachen (10km)</a></li>
                    <li><a href="#" onclick="showDir();">FeG J체lich</a> <span id="test"></span></li>
                    <li><a href="#">FeG Eupen (50km)</a></li>
                </ul>
                <a href="#" id="go" data-role="button">Zeige die Karte meiner Umgebung</a>
            </div>
            <div id="map">
            </div>
            <!-- /content -->
        </div>
        <!-- /page -->
    </body>
  
</body>


</html>

